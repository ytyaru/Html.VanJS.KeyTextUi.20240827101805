# mouse event

## 要件

　リスト要素(`<ol>`,`<li>`)をスクロールしたい。

```
+-----------+--+
|A          |▲|
|B          |■|
|C          |▼|
+-----------+--+
```

　このときHIDは次のすべてを使いたい。

* キーボード
* マウス
* ゲームパッド
* タッチパネル

　次のような要件がある。

* スクロールの最小量は一要素の高さにしたい。（中途半端に見切れたりしないように）
* HID共通カーソル
    * 特定のli要素に注目《フォーカス》したい（選択中li要素の詳細を別画面に表示したい）
        * 🖱️liでマウスオーバーしたとき
        * 📱liをタップしたとき
        * ⌨️ liに矢印キーでカーソル遷移したとき
        * 🎮liに十字キーでカーソル遷移したとき
    * 特定のli要素に決定《セレクト》したい
        * 🖱️liをクリックしたとき
        * 📱liをスワイプしたとき
        * ⌨️ Enterキー押下したとき注目《フォーカス》中のliを
        * 🎮決定キー押下したとき注目《フォーカス》中のliを

## 問題

1. [wheel][]イベントでマウスホイールしたとき、その方向の次の要素を注目《フォーカス》する
1. [mouseenter][]イベントでマウスオーバーしたとき、その要素を注目《フォーカス》する
1. 上記の組合せでスクロールしたとき、1が優先されてスクロールジャンクを起こし思い通りの挙動にならない

[wheel]:https://developer.mozilla.org/ja/docs/Web/API/Element/wheel_event
[mouseenter]:https://developer.mozilla.org/ja/docs/Web/API/Element/mouseenter_event
[scroll]:https://developer.mozilla.org/ja/docs/Web/API/Document/scroll_event

## 解決案

　ページネーションUIにする。（スクロールという方法を辞める）

　li要素が見切れるような中途半端なスクロールはしたくない。この要件からもスクロールよりページネーションのほうが適している。

## ページネーションUI

　Pure JSで実装できるライブラリが欲しい。

```
+-----+
|A    |
+-----+
|B    |
+-----+
|C    |
+-----+
◀1 2 3 4 5▶
```
```
+-----+--+
|A    |▲|
+-----+1 |
|B    |―|
+-----+5 |
|C    |▼|
+-----+--+
```
```
+-----+
|A    |
+-----+
|B    |
+-----+
|C    |
+-----+
▲1/5▼
```
```
+-----+-----+-----+
|A    |B    |C    |
+-----+-----+-----+
◀1/5▶
```
```
+-----+-----+
|A    |D    |
+-----+-----+
|B    |E    |
+-----+-----+
|C    |F    |
+-----+-----+
▲1/5▼
```
```
+-----+-----+
|A    |B    |
+-----+-----+
|C    |D    |
+-----+-----+
|E    |F    |
+-----+-----+
▲1/5▼
```
```
+-----+-----+-----+
|A    |B    |C    |
+-----+-----+-----+
|D    |E    |F    |
+-----+-----+-----+
◀1/5▶
```
```
+-----+-----+-----+
|A    |C    |E    |
+-----+-----+-----+
|B    |D    |F    |
+-----+-----+-----+
◀1/5▶
```

```
+-----+-----+-----+
|A    |C    |E    |▲●
+-----+-----+-----+1 ▲
|B    |D    |F    |―■
+-----+-----+-----+5 ★
|G    |H    |I    |▼♥
+-----+-----+-----+
      ◀1/5▶
```

　データ構造は次の三種類ありえる。

* リスト(一次元)
* テーブル(二次元)
* レイヤー(三次元)

* 一次元
* 二次元
    * グリッド(要素の表示領域を広げただけ)
    * テーブル(要素の属性まで表示したリスト)
* 三次元
    * クラス(タイプ)別の分類

　表示に関する変数は次の通り。

* 一画面に表示する要素数
* 一画面に表示する要素の方向（縦／横／両方）

* 要素の配置順序（左上→右下／左下→）
* 表示開始位置（左上）
* 改行方向（無／）

略|意味
--|----
`N`|日本語縦書き(右上→下。左へ改行)
`Z`|英語横書き(左上→右。下へ改行)
`И`|(左上→下。右へ改行)

* なるだけシンプルにしたい
* 縦長スマホに対応したい

```
+-----+
|A    |
+-----+
|B    |
+-----+
|C    |
+-----+
▲1/5▼頁 33個
```

* 一次元
* 縦方向(上→下)
* 頁数(今/全)
* 要素数

　上記基本に加えて次のような変数・関数も欲しい。

* 要素
    * データ形式(ID,インスタンス型)
    * 要素表示処理(IDやインスタンスから`<li>`に表示する内容を計算する任意コールバック関数を指定する)

```javascript
const pager = new Pager()
document.body.append(pager.el)

```

